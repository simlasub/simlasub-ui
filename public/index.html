<!doctype html>

<html>

<header>
	<meta charset="utf-8">
	<title>SIMLASUB UI</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- load scripts -->
	<script src="index.js"></script>
	<script src="virtualHorizon.js"></script>
	<script src="helper.js"></script>
	<script src="background.js"></script>
	<script src="animation.js"></script>
	<script src="depth.js"></script>
	<script src="compass.js"></script>
	<!-- and stylesheet -->
	<link rel="stylesheet" href="style.css">
</header>

<body>
	<div class="flex">
		<div class="box" id="box-canvas">
			<div id="canvas-container" onclick="toggleFullScreen()">
				<canvas style="z-index: 1;" id="background"></canvas>
				<canvas style="z-index: 2;" id="canvas"></canvas>
				<canvas style="z-index: 3;" id="virtualHorizon"></canvas>
			</div>
	
			<button onclick="toggleFullScreen()">Fullscreen</button>
		</div>
		<div class="box">
			<h2>Indicator Settings</h2>
			<div class="settingsGrid">
				<label for="selDepthMode">Depth: </label>
				<select id="selDepthMode" onchange="updateSettings()">
					<option value="1">Full</option>
					<option value="2">Number and speed</option>
					<option value="3">Number</option>
				</select>
				<label for="selCompMode">Compass: </label>
				<select id="selCompMode" onchange="updateSettings()">
					<option value="1">Full</option>
					<option value="2">Number</option>
				</select>
			</div>
		</div>
		<div class="box">
			<h2>Status</h2>
			<table id="tStat">
			</table>
			<script>
				setInterval(()=>{
					var tStat = document.getElementById("tStat");
					tStat.innerHTML = "";
					for (const [key, value] of Object.entries(stat)) {
						var row = tStat.insertRow(-1);
						row.insertCell(0).innerHTML = key;
						if(!isNaN(parseFloat(value))){row.insertCell(1).innerHTML = parseFloat(value).toFixed(2);}
						else {row.insertCell(1).innerHTML = value;}
					}
				}, 10);
			</script>
		</div>
	</div>
</body>

<!-- call onStart() in index.js after everything else loaded -->
<script>onStart()</script>
</html>